(function(){"use strict";var e={3421:function(e,t,r){var s=r(5130),l=r(6768);const o={class:"app-container"},a={class:"levels"};function n(e,t,r,s,n,i){const c=(0,l.g2)("LevelComponent");return(0,l.uX)(),(0,l.CE)("div",o,[t[0]||(t[0]=(0,l.Lk)("h1",null,"Juego de Niveles",-1)),(0,l.Lk)("div",a,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.visibleLevels,(e=>((0,l.uX)(),(0,l.Wv)(c,{key:e.id,level:e,onLevelCompleted:i.handleLevelCompleted},null,8,["level","onLevelCompleted"])))),128))])])}var i=r(4373),c=r(4232);const u={class:"level-container"},g={key:0},d={key:2},v={key:0};function p(e,t,r,o,a,n){return(0,l.uX)(),(0,l.CE)("div",u,[(0,l.Lk)("h2",null,"Level "+(0,c.v_)(r.level.levelNumber),1),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.word=e),placeholder:"Enter the word"},null,512),[[s.Jo,a.word]]),(0,l.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>n.validateLevel&&n.validateLevel(...e))},"Submit"),a.message?((0,l.uX)(),(0,l.CE)("p",g,(0,c.v_)(a.message),1)):(0,l.Q3)("",!0),n.showEasterEggInput&&r.level.completed?((0,l.uX)(),(0,l.CE)("button",{key:1,onClick:t[2]||(t[2]=(...e)=>n.toggleEasterEggInput&&n.toggleEasterEggInput(...e))},(0,c.v_)(a.easterEggInputVisible?"Hide Easter Egg Input":"Show Easter Egg Input"),1)):(0,l.Q3)("",!0),a.easterEggInputVisible&&r.level.completed?((0,l.uX)(),(0,l.CE)("div",d,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>a.easterEggWord=e),placeholder:"Enter the easter egg word"},null,512),[[s.Jo,a.easterEggWord]]),(0,l.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>n.validateEasterEgg&&n.validateEasterEgg(...e))},"Submit Easter Egg"),a.easterEggMessage?((0,l.uX)(),(0,l.CE)("p",v,(0,c.v_)(a.easterEggMessage),1)):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0)])}var h={props:["level"],data(){return{word:"",message:"",easterEggWord:"",easterEggMessage:"",easterEggInputVisible:!1}},computed:{showEasterEggInput(){return this.level.completed}},methods:{async validateLevel(){try{const e=await i.A.post("https://ciendias-api.onrender.com/api/levels/validate",null,{params:{word:this.word,levelNumber:this.level.levelNumber}});200===e.status?(this.message=e.data,console.log(this.message),this.$emit("level-completed",this.level.levelNumber)):this.message=e.data||"Palabra incorrecta"}catch(e){e.response&&400===e.response.status?this.message=e.response.data||"Palabra incorrecta":(console.error("Error en la validación del nivel",e),this.message="Error de red o en el servidor")}},toggleEasterEggInput(){this.easterEggInputVisible=!this.easterEggInputVisible},async validateEasterEgg(){try{console.log(this.level);const e=await i.A.post("https://ciendias-api.onrender.com/api/easteregg/validate",null,{params:{word:this.easterEggWord,easterEggNumber:this.level.levelNumber}});200===e.status?this.easterEggMessage=e.data:this.easterEggMessage=e.data||"Palabra incorrecta"}catch(e){e.response&&400===e.response.status?this.easterEggMessage=e.response.data||"Palabra incorrecta":(console.error("Error en la validación del easter egg",e),this.easterEggMessage="Error de red o en el servidor")}}}},m=r(1241);const f=(0,m.A)(h,[["render",p],["__scopeId","data-v-005400ba"]]);var E=f,b={components:{LevelComponent:E},data(){return{levels:[]}},async created(){try{i.A.defaults.withCredentials=!0,i.A.get("http://localhost:8080/api/levels",{withCredentials:!0}).then((e=>{this.levels=e.data,console.log(e.data)})).catch((e=>{console.error("Error fetching data:",e)})),this.loadSavedProgress()}catch(e){console.error("Error al obtener los niveles",e)}},computed:{visibleLevels(){return this.levels.filter(((e,t)=>0===t||this.levels[t-1].completed))}},methods:{handleLevelCompleted(e){const t=this.levels.find((t=>t.levelNumber===e));t&&(t.completed=!0,this.saveProgress())},saveProgress(){const e=this.levels.map((e=>({levelNumber:e.levelNumber,completed:e.completed})));localStorage.setItem("levelProgress",JSON.stringify(e))},loadSavedProgress(){const e=localStorage.getItem("levelProgress");if(e){const t=JSON.parse(e);t.forEach((e=>{const t=this.levels.find((t=>t.levelNumber===e.levelNumber));t&&(t.completed=e.completed)}))}}}};const y=(0,m.A)(b,[["render",n]]);var w=y;(0,s.Ef)(w).mount("#app")}},t={};function r(s){var l=t[s];if(void 0!==l)return l.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,r),o.exports}r.m=e,function(){var e=[];r.O=function(t,s,l,o){if(!s){var a=1/0;for(u=0;u<e.length;u++){s=e[u][0],l=e[u][1],o=e[u][2];for(var n=!0,i=0;i<s.length;i++)(!1&o||a>=o)&&Object.keys(r.O).every((function(e){return r.O[e](s[i])}))?s.splice(i--,1):(n=!1,o<a&&(a=o));if(n){e.splice(u--,1);var c=l();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[s,l,o]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};r.O.j=function(t){return 0===e[t]};var t=function(t,s){var l,o,a=s[0],n=s[1],i=s[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(l in n)r.o(n,l)&&(r.m[l]=n[l]);if(i)var u=i(r)}for(t&&t(s);c<a.length;c++)o=a[c],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(u)},s=self["webpackChunkcienpaginascli"]=self["webpackChunkcienpaginascli"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=r.O(void 0,[504],(function(){return r(3421)}));s=r.O(s)})();
//# sourceMappingURL=app.73b495a5.js.map